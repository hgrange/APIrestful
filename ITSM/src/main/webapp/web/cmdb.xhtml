<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="jakarta.faces.core" xmlns:jsf="jakarta.faces"
	xmlns:h="jakarta.faces.html">
<f:view>
	<h:head>
		<title>CMDB</title>
		<link rel="stylesheet" href="incidentstyles.css" />
		<!--     <h:outputStylesheet name="styles.css" library="css"/> -->
	</h:head>
	<h:body>
	   	    
		<div class="container">
			<header>
				<h1>Configuration Management Database (CMDB)</h1>
				<p class="lead">Search and browse configuration items</p>
			</header>
		
		<h:form id="cmdbForm">
			<div class="toolbar">
				<h:outputLabel for="search" value="Search:" />
				<h:inputText id="search" value="#{cMDBList.filter}">
					<f:ajax event="keyup" render="cmdbTable" />
				</h:inputText>
				<h:commandButton value="Clear" action="#{cMDBList.clearFilter}" immediate="true" />
				<h:commandButton value="Refresh" action="#{cMDBList.refresh}" />
			</div>
			<h:dataTable id="cmdbTable" value="#{cMDBList.filteredCmdbs}" var="cmdb"
				styleClass="incidentTable modernTable" headerClass="incidentTableHeader"
				rowClasses="incidentTableOddRow,incidentTableEvenRow">
				<h:column>
					<f:facet name="header">ID</f:facet>    				
   					   #{cmdb.sid}
  				 </h:column>

				<h:column>
					<f:facet name="header">Cluster</f:facet>
    				  #{cmdb.cluster}
 				</h:column>

				<h:column>
					<f:facet name="header">Namespace</f:facet>
    				  #{cmdb.namespace}
   				</h:column>

				<h:column>
					<f:facet name="header">Project</f:facet>
    				  #{cmdb.project}
   				</h:column>
   				
   				<h:column>
					<f:facet name="header">Owner</f:facet>
    				  #{cmdb.ownerEmail}
   				</h:column>
			</h:dataTable>
		</h:form>
			<div class="footer">
				<h:link value="Back to Incidents" outcome="incident" />
			</div>
		</div>
	</h:body>
</f:view>
</html>